@{
    ViewData["Title"] = "Home Page";
}

@if (User.Identity!.IsAuthenticated)
{
    <!-- Redirect authenticated users to dashboard -->
    <script>
        window.location.href = '@Url.Action("Index", "Dashboard")';
    </script>
}
else
{
    <!-- Landing page for non-authenticated users -->
    <div class="hero-section">
        <div class="container">
            <div class="row align-items-center min-vh-100">
                <div class="col-lg-6">
                    <div class="hero-content">
                        <h1 class="display-4 fw-bold text-primary mb-4">
                            Build Better Habits,<br>
                            <span class="text-secondary">Achieve Your Goals</span>
                        </h1>
                        <p class="lead text-muted mb-5">
                            Track your daily habits, set meaningful goals, and watch your progress unfold.
                            Start your journey to a better you today.
                        </p>
                        <div class="d-flex gap-3 flex-wrap">
                            <a asp-area="Identity" asp-page="/Account/Register" class="btn btn-primary btn-lg px-4">
                                Get Started Free
                            </a>
                            <a asp-area="Identity" asp-page="/Account/Login" class="btn btn-outline-primary btn-lg px-4">
                                Sign In
                            </a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="hero-image text-center">
                        <div class="feature-preview bg-white rounded-3xl shadow-soft p-4">
                            <div class="d-flex align-items-center mb-3">
                                <div class="habit-icon bg-primary-gradient text-white me-3">
                                    <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                    </svg>
                                </div>
                                <div class="text-start">
                                    <h6 class="mb-0 fw-semibold">Daily Water Intake</h6>
                                    <small class="text-muted">8 glasses completed</small>
                                </div>
                                <div class="ms-auto">
                                    <span class="streak-badge">7 days</span>
                                </div>
                            </div>
                            <div class="progress mb-3" style="height: 8px;">
                                <div class="progress-bar bg-success" style="width: 100%"></div>
                            </div>
                            <div class="d-flex justify-content-between small text-muted">
                                <span>Goal: 8 glasses</span>
                                <span>100% complete</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Features Section -->
    <div class="features-section py-5 bg-white">
        <div class="container">
            <div class="row text-center mb-5">
                <div class="col-lg-8 mx-auto">
                    <h2 class="h1 fw-bold text-primary mb-3">Everything you need to succeed</h2>
                    <p class="lead text-muted">Simple, powerful tools to help you build lasting habits and achieve your most important goals.</p>
                </div>
            </div>
            <div class="row g-4">
                <div class="col-md-4">
                    <div class="feature-card text-center p-4">
                        <div class="feature-icon bg-primary-gradient text-white mx-auto mb-3">
                            <svg width="32" height="32" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                        <h5 class="fw-semibold mb-2">Track Daily Habits</h5>
                        <p class="text-muted">Build consistency with simple daily habit tracking and streak monitoring.</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="feature-card text-center p-4">
                        <div class="feature-icon bg-success text-white mx-auto mb-3">
                            <svg width="32" height="32" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                            </svg>
                        </div>
                        <h5 class="fw-semibold mb-2">Set Meaningful Goals</h5>
                        <p class="text-muted">Define long-term goals and track your progress with detailed analytics.</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="feature-card text-center p-4">
                        <div class="feature-icon bg-warning text-white mx-auto mb-3">
                            <svg width="32" height="32" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 002 2z"></path>
                            </svg>
                        </div>
                        <h5 class="fw-semibold mb-2">Visual Progress</h5>
                        <p class="text-muted">See your progress with beautiful charts and calendar visualizations.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
}

<style>
    .hero-section {
        background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
        min-height: 100vh;
    }

    .feature-preview {
        max-width: 400px;
        margin: 0 auto;
    }

    .feature-icon {
        width: 64px;
        height: 64px;
        border-radius: 1rem;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .feature-card {
        transition: transform 0.2s ease;
    }

    .feature-card:hover {
        transform: translateY(-4px);
    }
</style>